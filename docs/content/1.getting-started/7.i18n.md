---
title: Internationalization (i18n)
description: Add multi-language support to your email templates with vue-i18n
navigation:
  icon: i-lucide-languages
seo:
  title: i18n Support - Nuxt Email Renderer
  description: Learn how to add internationalization (i18n) support to email templates using vue-i18n.
---

Nuxt Email Renderer supports internationalization (i18n) for email templates, allowing you to send localized emails to users in their preferred language.

## Prerequisites

::callout{type="warning"}
i18n support requires `vue-i18n` to be installed in your project.
::

```bash
npm install vue-i18n
```

## Configuration

Enable i18n in your `nuxt.config.ts`:

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  modules: ["nuxt-email-renderer"],

  nuxtEmailRenderer: {
    i18n: {
      enabled: true,
      defaultLocale: "en",
      localesDir: "./emails/locales", // Optional
    },
  },
});
```

### Configuration Options

| Option          | Type      | Default     | Description                                        |
| --------------- | --------- | ----------- | -------------------------------------------------- |
| `enabled`       | `boolean` | `false`     | Enable i18n support for email templates            |
| `defaultLocale` | `string`  | `'en'`      | Default/fallback locale                            |
| `localesDir`    | `string`  | `undefined` | Directory containing locale message files          |

## Setup Locale Messages

Create a directory for your locale files (e.g., `emails/locales/`):

```
your-project/
â”œâ”€â”€ emails/
â”‚   â”œâ”€â”€ locales/
â”‚   â”‚   â”œâ”€â”€ en.json
â”‚   â”‚   â”œâ”€â”€ de.json
â”‚   â”‚   â”œâ”€â”€ es.json
â”‚   â”‚   â””â”€â”€ fr.json
â”‚   â””â”€â”€ WelcomeEmail.vue
â””â”€â”€ nuxt.config.ts
```

### Locale Files

Create JSON files for each language:

```json [emails/locales/en.json]
{
  "welcome": {
    "title": "Welcome to our platform! ðŸŽ‰",
    "greeting": "Hi there,",
    "message": "We're thrilled to have you join our community.",
    "cta": "Get Started Now"
  }
}
```

```json [emails/locales/de.json]
{
  "welcome": {
    "title": "Willkommen auf unserer Plattform! ðŸŽ‰",
    "greeting": "Hallo,",
    "message": "Wir freuen uns sehr, dass Sie unserer Community beitreten.",
    "cta": "Jetzt loslegen"
  }
}
```

```json [emails/locales/es.json]
{
  "welcome": {
    "title": "Â¡Bienvenido a nuestra plataforma! ðŸŽ‰",
    "greeting": "Hola,",
    "message": "Estamos encantados de que te unas a nuestra comunidad.",
    "cta": "Comenzar ahora"
  }
}
```

## Using i18n in Templates

Use the `$t()` function in your email templates to access translations:

```vue [emails/WelcomeEmail.vue]
<template>
  <EHtml>
    <EHead />
    <EPreview>{{ $t('welcome.title') }}</EPreview>
    <EBody>
      <EContainer>
        <EHeading>{{ $t('welcome.title') }}</EHeading>
        
        <EText>{{ $t('welcome.greeting') }}</EText>
        
        <EText>{{ $t('welcome.message') }}</EText>
        
        <EButton href="https://example.com/dashboard">
          {{ $t('welcome.cta') }}
        </EButton>
      </EContainer>
    </EBody>
  </EHtml>
</template>
```

## Rendering with i18n

### Using the API

When rendering emails via the API, pass the i18n configuration:

```typescript
// Render in German
const html = await $fetch('/api/emails/render', {
  method: 'POST',
  body: {
    name: 'WelcomeEmail',
    i18n: {
      enabled: true,
      locale: 'de',
      defaultLocale: 'en',
      localesDir: './emails/locales',
    },
  },
});
```

### Using Server Utils

Use the `renderEmailComponent` function with i18n options:

```typescript [server/api/send-welcome.post.ts]
import { renderEmailComponent } from '#nuxt-email-renderer';

export default defineEventHandler(async (event) => {
  const { email, locale } = await readBody(event);

  const html = await renderEmailComponent('WelcomeEmail', {}, {
    i18n: {
      enabled: true,
      locale: locale || 'en',
      defaultLocale: 'en',
      localesDir: './emails/locales',
    },
  });

  // Send email using your email service
  await sendEmail({
    to: email,
    subject: 'Welcome!',
    html,
  });

  return { success: true };
});
```

## Advanced Usage

### Pre-loaded Messages

Instead of using `localesDir`, you can pass messages directly:

```typescript
const html = await renderEmailComponent('WelcomeEmail', {}, {
  i18n: {
    enabled: true,
    locale: 'fr',
    defaultLocale: 'en',
    messages: {
      fr: {
        welcome: {
          title: 'Bienvenue!',
          greeting: 'Bonjour,',
          message: 'Nous sommes ravis de vous accueillir.',
          cta: 'Commencer',
        },
      },
      en: {
        welcome: {
          title: 'Welcome!',
          greeting: 'Hi there,',
          message: 'We\'re thrilled to have you.',
          cta: 'Get Started',
        },
      },
    },
  },
});
```

### Using Existing i18n Instance

If you have an existing i18n instance in your Nuxt app, you can reuse it:

```typescript
import { useI18n } from 'vue-i18n';

// In your component/composable
const i18n = useI18n();

const html = await renderEmailComponent('WelcomeEmail', {}, {
  i18n: {
    enabled: true,
    useAppInstance: true,
    appInstance: i18n,
  },
});
```

### Fallback Behavior

When a translation key is not found in the specified locale, i18n will automatically fall back to the `defaultLocale`:

```typescript
// Requesting Chinese (zh) which doesn't exist
const html = await renderEmailComponent('WelcomeEmail', {}, {
  i18n: {
    enabled: true,
    locale: 'zh',
    defaultLocale: 'en', // Falls back to English
    localesDir: './emails/locales',
  },
});
// Will use English translations
```

## Best Practices

::card-group
:::card{icon="i-lucide-folder-tree"}
**Organize Translations**

Structure your locale files by feature or email type for better maintainability.

```
emails/locales/
â”œâ”€â”€ en/
â”‚   â”œâ”€â”€ welcome.json
â”‚   â”œâ”€â”€ notifications.json
â”‚   â””â”€â”€ receipts.json
â”œâ”€â”€ de/
â””â”€â”€ es/
```
:::

:::card{icon="i-lucide-key"}
**Consistent Keys**

Use descriptive, hierarchical keys for your translations:

```json
{
  "emails": {
    "welcome": {
      "subject": "...",
      "title": "...",
      "body": {
        "greeting": "...",
        "main": "..."
      }
    }
  }
}
```
:::

:::card{icon="i-lucide-test-tube"}
**Test All Locales**

Always test your email templates in all supported languages to ensure proper rendering and layout.
:::

:::card{icon="i-lucide-shield-check"}
**Type Safety**

Consider using TypeScript interfaces for your translation keys to get autocomplete and type checking.
:::
::

## Examples

### Dynamic Email with User Locale

```typescript [server/api/send-notification.post.ts]
export default defineEventHandler(async (event) => {
  const { userId, type } = await readBody(event);

  // Get user's preferred locale from database
  const user = await getUserById(userId);
  const locale = user.preferredLanguage || 'en';

  const html = await renderEmailComponent('NotificationEmail', 
    { type, userName: user.name },
    {
      i18n: {
        enabled: true,
        locale,
        defaultLocale: 'en',
        localesDir: './emails/locales',
      },
    }
  );

  await sendEmail({
    to: user.email,
    subject: $t(`notifications.${type}.subject`, locale),
    html,
  });

  return { success: true };
});
```

### Batch Emails in Multiple Languages

```typescript [server/api/send-newsletter.post.ts]
export default defineEventHandler(async (event) => {
  const users = await getAllUsers();

  // Group users by language
  const usersByLocale = users.reduce((acc, user) => {
    const locale = user.preferredLanguage || 'en';
    if (!acc[locale]) acc[locale] = [];
    acc[locale].push(user);
    return acc;
  }, {} as Record<string, typeof users>);

  // Render email once per locale
  for (const [locale, localeUsers] of Object.entries(usersByLocale)) {
    const html = await renderEmailComponent('NewsletterEmail', {}, {
      i18n: {
        enabled: true,
        locale,
        defaultLocale: 'en',
        localesDir: './emails/locales',
      },
    });

    // Send to all users with this locale
    for (const user of localeUsers) {
      await sendEmail({
        to: user.email,
        html,
      });
    }
  }

  return { success: true };
});
```

## Troubleshooting

::callout{type="warning"}
**Missing Translations**

If translations aren't appearing, check:

1. `vue-i18n` is installed
2. i18n is enabled in the render options
3. Locale files are in the correct directory
4. Translation keys match exactly
5. The locale code is correct (e.g., 'en', 'de', 'es')
::

::callout{type="info"}
**SSR Compatibility**

The i18n implementation uses vue-i18n's legacy mode for SSR compatibility. This means you should use `$t()` in your templates, not the composition API's `t()` function.
::

## Related

- [Render API](/api/render) - API documentation for rendering with i18n
- [Server Utils](/api/server-utils) - Using i18n in server-side code
- [vue-i18n Documentation](https://vue-i18n.intlify.dev/) - Official vue-i18n documentation
